{
  "description": "[Status: stable] [Name: printf-in-get-text-func-call] [Message: printf-style format is resolved before function call; consider <code>_(\"string %s\") % arg</code>] What it does Checks for printf-style formatted strings in gettext function calls. Why is this bad? In the gettext API, the gettext function (often aliased to _) returns a translation of its input argument by looking it up in a translation catalog. Calling gettext with a formatted string as its argument can cause unexpected behavior. Since the formatted string is resolved before the function call, the translation catalog will look up the formatted string, rather than the printf-style template. Instead, format the value returned by the function call, rather than its argument. Example from gettext import gettext as _ name = \"Maria\" _(\"Hello, %s!\" % name) # Looks for \"Hello, Maria!\". Use instead: from gettext import gettext as _ name = \"Maria\" _(\"Hello, %s!\") % name # Looks for \"Hello, %s!\".",
  "option": {
    "lint.flake8-gettext.function-names": {
      "option_description": "The function names to consider as internationalization calls.\n\n\n\nExample usage:\n\npyproject.tomlruff.toml\n\n\n[tool.ruff.lint.flake8-gettext]\nfunction-names = [\"_\", \"gettext\", \"ngettext\", \"ugettetxt\"]\n\n\n\n[lint.flake8-gettext]\nfunction-names = [\"_\", \"gettext\", \"ngettext\", \"ugettetxt\"]",
      "option_data_type": "list[str]",
      "default_value": "[\"_\", \"gettext\", \"ngettext\"]",
      "option_values": {
        "valuelist": []
      }
    }
  }
}