{
  "description": "[Status: stable] [Name: pytest-parametrize-values-wrong-type] [Message: Wrong values type in <code>pytest.mark.parametrize</code> expected <code>{values}</code> of <code>{row}</code>] What it does Checks for the type of parameter values passed to pytest.mark.parametrize. Why is this bad? The argvalues argument of pytest.mark.parametrize takes an iterator of parameter values, which can be provided as lists or tuples. To aid in readability, it's recommended to use a consistent style for the list of values rows, and, in the case of multiple parameters, for each row of values. The style for the list of values rows can be configured via the lint.flake8-pytest-style.parametrize-values-type setting, while the style for each row of values can be configured via the lint.flake8-pytest-style.parametrize-values-row-type setting. For example, lint.flake8-pytest-style.parametrize-values-type will lead to the following expectations: tuple: @pytest.mark.parametrize(\"value\", (\"a\", \"b\", \"c\")) list: @pytest.mark.parametrize(\"value\", [\"a\", \"b\", \"c\"]) Similarly, lint.flake8-pytest-style.parametrize-values-row-type will lead to the following expectations: tuple: @pytest.mark.parametrize((\"key\", \"value\"), [(\"a\", \"b\"), (\"c\", \"d\")]) list: @pytest.mark.parametrize((\"key\", \"value\"), [[\"a\", \"b\"], [\"c\", \"d\"]]) Example import pytest # expected list, got tuple @pytest.mark.parametrize(\"param\", (1, 2)) def test_foo(param): ... # expected top-level list, got tuple @pytest.mark.parametrize( (\"param1\", \"param2\"), ( (1, 2), (3, 4), ), ) def test_bar(param1, param2): ... # expected individual rows to be tuples, got lists @pytest.mark.parametrize( (\"param1\", \"param2\"), [ [1, 2], [3, 4], ], ) def test_baz(param1, param2): ... Use instead: import pytest @pytest.mark.parametrize(\"param\", [1, 2, 3]) def test_foo(param): ... @pytest.mark.parametrize((\"param1\", \"param2\"), [(1, 2), (3, 4)]) def test_bar(param1, param2): ...",
  "option": {
    "lint.flake8-pytest-style.parametrize-values-type": {
      "option_description": "Expected type for the list of values rows in @pytest.mark.parametrize.\nThe following values are supported:\n\ntuple — e.g. @pytest.mark.parametrize(\"name\", (1, 2, 3))\nlist (default) — e.g. @pytest.mark.parametrize(\"name\", [1, 2, 3])\n\n\n\nExample usage:\n\npyproject.tomlruff.toml\n\n\n[tool.ruff.lint.flake8-pytest-style]\nparametrize-values-type = \"tuple\"\n\n\n\n[lint.flake8-pytest-style]\nparametrize-values-type = \"tuple\"",
      "option_data_type": "\"tuple\" | \"list\"",
      "default_value": "list",
      "option_values": {
        "valuelist": []
      }
    },
    "lint.flake8-pytest-style.parametrize-values-row-type": {
      "option_description": "Expected type for each row of values in @pytest.mark.parametrize in\ncase of multiple parameters. The following values are supported:\n\ntuple (default) — e.g.\n  @pytest.mark.parametrize((\"name1\", \"name2\"), [(1, 2), (3, 4)])\nlist — e.g.\n  @pytest.mark.parametrize((\"name1\", \"name2\"), [[1, 2], [3, 4]])\n\n\n\nExample usage:\n\npyproject.tomlruff.toml\n\n\n[tool.ruff.lint.flake8-pytest-style]\nparametrize-values-row-type = \"list\"\n\n\n\n[lint.flake8-pytest-style]\nparametrize-values-row-type = \"list\"",
      "option_data_type": "\"tuple\" | \"list\"",
      "default_value": "tuple",
      "option_values": {
        "valuelist": []
      }
    }
  }
}