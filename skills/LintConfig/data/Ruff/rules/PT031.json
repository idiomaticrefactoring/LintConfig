{
  "description": "[Status: stable] [Name: pytest-warns-with-multiple-statements] [Message: <code>pytest.warns()</code> block should contain a single simple statement] What it does Checks for pytest.warns context managers with multiple statements. This rule allows pytest.warns bodies to contain for loops with empty bodies (e.g., pass or ... statements), to test iterator behavior. Why is this bad? When pytest.warns is used as a context manager and contains multiple statements, it can lead to the test passing when it should instead fail. A pytest.warns context manager should only contain a single simple statement that triggers the expected warning. Example import pytest def test_foo_warns(): with pytest.warns(Warning): setup() # False negative if setup triggers a warning but foo does not. foo() Use instead: import pytest def test_foo_warns(): setup() with pytest.warns(Warning): foo()",
  "option": {}
}