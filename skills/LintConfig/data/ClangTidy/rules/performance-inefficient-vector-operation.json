{
    "performance-inefficient-vector-operation": {
        "description": "Description\n\nFinds possible inefficient\nstd::vector\noperations (e.g.\npush_back\n,\nemplace_back\n) that may cause unnecessary memory reallocations.\n\nIt can also find calls that add element to protobuf repeated field in a loop\nwithout calling Reserve() before the loop. Calling Reserve() first can avoid\nunnecessary memory reallocations.\n\nCurrently, the check only detects following kinds of loops with a single\nstatement body:\n\nCounter-based for loops start with 0:\n\nstd\n::\nvector\n<\nint\n>\nv\n;\nfor\n(\nint\ni\n=\n0\n;\ni\n<\nn\n;\n++\ni\n)\n{\nv\n.\npush_back\n(\nn\n);\n// This will trigger the warning since the push_back may cause multiple\n// memory reallocations in v. This can be avoid by inserting a 'reserve(n)'\n// statement before the for statement.\n}\nSomeProto\np\n;\nfor\n(\nint\ni\n=\n0\n;\ni\n<\nn\n;\n++\ni\n)\n{\np\n.\nadd_xxx\n(\nn\n);\n// This will trigger the warning since the add_xxx may cause multiple memory\n// reallocations. This can be avoid by inserting a\n// 'p.mutable_xxx().Reserve(n)' statement before the for statement.\n}\n\nFor-range loops like\nfor\n(range-declaration\n:\nrange_expression)\n, the type\nof\nrange_expression\ncan be\nstd::vector\n,\nstd::array\n,\nstd::deque\n,\nstd::set\n,\nstd::unordered_set\n,\nstd::map\n,\nstd::unordered_set\n:\n\nstd\n::\nvector\n<\nint\n>\ndata\n;\nstd\n::\nvector\n<\nint\n>\nv\n;\nfor\n(\nauto\nelement\n:\ndata\n)\n{\nv\n.\npush_back\n(\nelement\n);\n// This will trigger the warning since the 'push_back' may cause multiple\n// memory reallocations in v. This can be avoid by inserting a\n// 'reserve(data.size())' statement before the for statement.\n}",
        "option": "Static analysis (Clang-Tidy) options are configured via .clang-tidy file.\n\nOptions\nVectorLikeClasses\nSemicolon-separated list of names of vector-like classes. By default only\n::std::vector\nis considered.\nEnableProto\nWhen\ntrue\n, the check will also warn on inefficient operations for proto\nrepeated fields. Otherwise, the check only warns on inefficient vector\noperations. Default is\nfalse\n."
    }
}