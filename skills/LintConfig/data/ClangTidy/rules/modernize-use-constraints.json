{
    "modernize-use-constraints": {
        "description": "Description\n\nReplace\nstd::enable_if\nwith C++20 requires clauses.\n\nstd::enable_if\nis a SFINAE mechanism for selecting the desired function or\nclass template based on type traits or other requirements.\nenable_if\nchanges the meta-arity of the template, and has other\nadverse side effects\nin the code. C++20 introduces concepts and constraints as a cleaner language\nprovided solution to achieve the same outcome.\n\nThis check finds some common\nstd::enable_if\npatterns that can be replaced\nby C++20 requires clauses. The tool can replace some of these patterns\nautomatically, otherwise, the tool will emit a diagnostic without a\nreplacement. The tool can detect the following\nstd::enable_if\npatterns\n\nstd::enable_if\nin the return type of a function\nstd::enable_if\nas the trailing template parameter for function templates\n\nOther uses, for example, in class templates for function parameters, are not\ncurrently supported by this tool. Other variants such as\nboost::enable_if\nare not currently supported by this tool.\n\nBelow are some examples of code using\nstd::enable_if\n.\n\n// enable_if in function return type\ntemplate\n<\ntypename\nT\n>\nstd\n::\nenable_if_t\n<\nT\n::\nsome_trait\n,\nint\n>\nonly_if_t_has_the_trait\n()\n{\n...\n}\n// enable_if in the trailing template parameter\ntemplate\n<\ntypename\nT\n,\nstd\n::\nenable_if_t\n<\nT\n::\nsome_trait\n,\nint\n>\n=\n0\n>\nvoid\nanother_version\n()\n{\n...\n}\ntemplate\n<\ntypename\nT\n>\ntypename\nstd\n::\nenable_if\n<\nT\n::\nsome_value\n,\nObj\n>::\ntype\nexisting_constraint\n()\nrequires\n(\nT\n::\nanother_value\n)\n{\nreturn\nObj\n{};\n}\ntemplate\n<\ntypename\nT\n,\nstd\n::\nenable_if_t\n<\nT\n::\nsome_trait\n,\nint\n>\n=\n0\n>\nstruct\nmy_class\n{};\n\nThe tool will replace the above code with,\n\n// warning: use C++20 requires constraints instead of enable_if [modernize-use-constraints]\ntemplate\n<\ntypename\nT\n>\nint\nonly_if_t_has_the_trait\n()\nrequires\nT\n::\nsome_trait\n{\n...\n}\n// warning: use C++20 requires constraints instead of enable_if [modernize-use-constraints]\ntemplate\n<\ntypename\nT\n>\nvoid\nanother_version\n()\nrequires\nT\n::\nsome_trait\n{\n...\n}\n// The tool will emit a diagnostic for the following, but will\n// not attempt to replace the code.\n// warning: use C++20 requires constraints instead of enable_if [modernize-use-constraints]\ntemplate\n<\ntypename\nT\n>\ntypename\nstd\n::\nenable_if\n<\nT\n::\nsome_value\n,\nObj\n>::\ntype\nexisting_constraint\n()\nrequires\n(\nT\n::\nanother_value\n)\n{\nreturn\nObj\n{};\n}\n// The tool will not emit a diagnostic or attempt to replace the code.\ntemplate\n<\ntypename\nT\n,\nstd\n::\nenable_if_t\n<\nT\n::\nsome_trait\n,\nint\n>\n=\n0\n>\nstruct\nmy_class\n{};\n\nNote\nSystem headers are not analyzed by this check.",
        "option": "Static analysis (Clang-Tidy) options are configured via .clang-tidy file.\n\nThis rule has no specific options."
    }
}