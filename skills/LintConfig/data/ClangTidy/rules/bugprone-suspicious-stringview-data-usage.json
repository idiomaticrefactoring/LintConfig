{
    "bugprone-suspicious-stringview-data-usage": {
        "description": "Description\n\nIdentifies suspicious usages of\nstd::string_view::data()\nthat could lead to\nreading out-of-bounds data due to inadequate or incorrect string null\ntermination.\n\nIt warns when the result of\ndata()\nis passed to a constructor or function\nwithout also passing the corresponding result of\nsize()\nor\nlength()\nmember function. Such usage can lead to unintended behavior, particularly when\nassuming the data pointed to by\ndata()\nis null-terminated.\n\nThe absence of a\nc_str()\nmethod in\nstd::string_view\noften leads\ndevelopers to use\ndata()\nas a substitute, especially when interfacing with\nC APIs that expect null-terminated strings. However, since\ndata()\ndoes not\nguarantee null termination, this can result in unintended behavior if the API\nrelies on proper null termination for correct string interpretation.\n\nIn todayâ€™s programming landscape, this scenario can occur when implicitly\nconverting an\nstd::string_view\nto an\nstd::string\n. Since the constructor\nin\nstd::string\ndesigned for string-view-like objects is\nexplicit\n,\nattempting to pass an\nstd::string_view\nto a function expecting an\nstd::string\nwill result in a compilation error. As a workaround, developers\nmay be tempted to utilize the\n.data()\nmethod to achieve compilation,\nintroducing potential risks.\n\nFor instance:\n\nvoid\nprintString\n(\nconst\nstd\n::\nstring\n&\nstr\n)\n{\nstd\n::\ncout\n<<\n\"String: \"\n<<\nstr\n<<\nstd\n::\nendl\n;\n}\nvoid\nsomething\n(\nstd\n::\nstring_view\nsv\n)\n{\nprintString\n(\nsv\n.\ndata\n());\n}\n\nIn this example, directly passing\nsv\nto the\nprintString\nfunction would\nlead to a compilation error due to the explicit nature of the\nstd::string\nconstructor. Consequently, developers might opt for\nsv.data()\nto resolve the\ncompilation error, albeit introducing potential hazards as discussed.",
        "option": "Static analysis (Clang-Tidy) options are configured via .clang-tidy file.\n\nOptions\nStringViewTypes\nOption allows users to specify custom string view-like types for analysis. It\naccepts a semicolon-separated list of type names or regular expressions\nmatching these types. Default value is:\n::std::basic_string_view;::llvm::StringRef\n.\nAllowedCallees\nSpecifies methods, functions, or classes where the result of\n.data()\nis\npassed to. Allows to exclude such calls from the analysis. Accepts a\nsemicolon-separated list of names or regular expressions matching these\nentities. Default value is: empty string."
    }
}