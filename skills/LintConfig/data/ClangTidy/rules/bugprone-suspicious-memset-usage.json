{
    "bugprone-suspicious-memset-usage": {
        "description": "Description\n\nThis check finds\nmemset()\ncalls with potential mistakes in their arguments.\nConsidering the function as\nvoid*\nmemset(void*\ndestination,\nint\nfill_value,\nsize_t\nbyte_count)\n, the following cases are covered:\n\nCase 1: Fill value is a character ``’0’``\n\nFilling up a memory area with ASCII code 48 characters is not customary,\npossibly integer zeroes were intended instead.\nThe check offers a replacement of\n'0'\nwith\n0\n. Memsetting character\npointers with\n'0'\nis allowed.\n\nCase 2: Fill value is truncated\n\nMemset converts\nfill_value\nto\nunsigned\nchar\nbefore using it. If\nfill_value\nis out of unsigned character range, it gets truncated\nand memory will not contain the desired pattern.\n\nCase 3: Byte count is zero\n\nCalling memset with a literal zero in its\nbyte_count\nargument is likely\nto be unintended and swapped with\nfill_value\n. The check offers to swap\nthese two arguments.\n\nCorresponding cpplint.py check name:\nruntime/memset\n.\n\nExamples:\n\nvoid\nfoo\n()\n{\nint\ni\n[\n5\n]\n=\n{\n1\n,\n2\n,\n3\n,\n4\n,\n5\n};\nint\n*\nip\n=\ni\n;\nchar\nc\n=\n'1'\n;\nchar\n*\ncp\n=\n&\nc\n;\nint\nv\n=\n0\n;\n// Case 1\nmemset\n(\nip\n,\n'0'\n,\n1\n);\n// suspicious\nmemset\n(\ncp\n,\n'0'\n,\n1\n);\n// OK\n// Case 2\nmemset\n(\nip\n,\n0xabcd\n,\n1\n);\n// fill value gets truncated\nmemset\n(\nip\n,\n0x00\n,\n1\n);\n// OK\n// Case 3\nmemset\n(\nip\n,\nsizeof\n(\nint\n),\nv\n);\n// zero length, potentially swapped\nmemset\n(\nip\n,\n0\n,\n1\n);\n// OK\n}",
        "option": "Static analysis (Clang-Tidy) options are configured via .clang-tidy file.\n\nThis rule has no specific options."
    }
}