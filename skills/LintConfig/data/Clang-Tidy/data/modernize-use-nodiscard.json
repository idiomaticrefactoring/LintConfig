{
  "name": "modernize-use-nodiscard",
  "meta": {
    "url": "https://clang.llvm.org/extra/clang-tidy/checks/modernize/use-nodiscard.html",
    "fixable": true
  },
  "content": {
    "introduction": "Adds \n[[nodiscard]]\n attributes (introduced in C++17) to member functions in\norder to highlight at compile time which return values should not be ignored.\n\nMember functions need to satisfy the following conditions to be considered by\nthis check:\n\nno \n[[nodiscard]]\n, \n[[noreturn]]\n,\n\n__attribute__((warn_unused_result))\n,\n\n[[clang::warn_unused_result]]\n nor \n[[gcc::warn_unused_result]]\n\nattribute,\n\n\nnon-void return type,\n\n\nnon-template return types,\n\n\nconst member function,\n\n\nnon-variadic functions,\n\n\nno non-const reference parameters,\n\n\nno pointer parameters,\n\n\nno template parameters,\n\n\nno template function parameters,\n\n\nnot be a member of a class with mutable member variables,\n\n\nno Lambdas,\n\n\nno conversion functions.\n\nSuch functions have no means of altering any state or passing values other than\nvia the return type. Unless the member functions are altering state via some\nexternal call (e.g. I/O).\n\nExample\nÂ¶\n\n\nbool\n \nempty\n()\n \nconst\n;\n\n\nbool\n \nempty\n(\nint\n \ni\n)\n \nconst\n;\n\n\n\n\n\n\ntransforms to:\n\n\n[[\nnodiscard\n]]\n \nbool\n \nempty\n()\n \nconst\n;\n\n\n[[\nnodiscard\n]]\n \nbool\n \nempty\n(\nint\n \ni\n)\n \nconst\n;\n\nOptions\nÂ¶\n\n\n\n\n\n\nReplacementString\nÂ¶\n\n\nSpecifies a macro to use instead of \n[[nodiscard]]\n. This is useful when\nmaintaining source code that needs to compile with a pre-C++17 compiler.\n\n\n\n\n\n\nExample\nÂ¶\n\n\nbool\n \nempty\n()\n \nconst\n;\n\n\nbool\n \nempty\n(\nint\n \ni\n)\n \nconst\n;\n\n\n\n\n\n\ntransforms to:\n\n\nNO_DISCARD\n \nbool\n \nempty\n()\n \nconst\n;\n\n\nNO_DISCARD\n \nbool\n \nempty\n(\nint\n \ni\n)\n \nconst\n;\n\n\n\n\n\n\nif the \nReplacementString\n option is set to \nNO_DISCARD\n.\n\n\n\n\nNote\n\n\nIf the \nReplacementString\n is not a C++ attribute, but instead a\nmacro, then that macro must be defined in scope or the fix-it will not be\napplied.\n\n\n\n\n\n\nNote\n\n\nFor alternative \n__attribute__\n syntax options to mark functions as\n\n[[nodiscard]]\n in non-c++17 source code.\nSee \nhttps://clang.llvm.org/docs/AttributeReference.html#nodiscard-warn-unused-result",
    "configurations": []
  }
}