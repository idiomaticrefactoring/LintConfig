{
  "name": "openmp-use-default-none",
  "meta": {
    "url": "https://clang.llvm.org/extra/clang-tidy/checks/openmp/use-default-none.html",
    "fixable": false
  },
  "content": {
    "introduction": "Finds OpenMP directives that are allowed to contain a \ndefault\n clause,\nbut either donât specify it or the clause is specified but with the kind\nother than \nnone\n, and suggests to use the \ndefault(none)\n clause.\n\nUsing \ndefault(none)\n clause forces developers to explicitly specify data\nsharing attributes for the variables referenced in the construct,\nthus making it obvious which variables are referenced, and what is their\ndata sharing attribute, thus increasing readability and possibly making errors\neasier to spot.\n\nExample\nÂ¶\n\n\n// ``for`` directive cannot have ``default`` clause, no diagnostics.\n\n\nvoid\n \nn0\n(\nconst\n \nint\n \na\n)\n \n{\n\n\n#pragma omp for\n\n\n  \nfor\n \n(\nint\n \nb\n \n=\n \n0\n;\n \nb\n \n<\n \na\n;\n \nb\n++\n)\n\n\n    \n;\n\n\n}\n\n\n\n// ``parallel`` directive.\n\n\n\n// ``parallel`` directive can have ``default`` clause, but said clause is not\n\n\n// specified, diagnosed.\n\n\nvoid\n \np0_0\n()\n \n{\n\n\n#pragma omp parallel\n\n\n  \n;\n\n\n  \n// WARNING: OpenMP directive ``parallel`` does not specify ``default``\n\n\n  \n//          clause. Consider specifying ``default(none)`` clause.\n\n\n}\n\n\n\n// ``parallel`` directive can have ``default`` clause, and said clause is\n\n\n// specified, with ``none`` kind, all good.\n\n\nvoid\n \np0_1\n()\n \n{\n\n\n#pragma omp parallel default(none)\n\n\n  \n;\n\n\n}\n\n\n\n// ``parallel`` directive can have ``default`` clause, and said clause is\n\n\n// specified, but with ``shared`` kind, which is not ``none``, diagnose.\n\n\nvoid\n \np0_2\n()\n \n{\n\n\n#pragma omp parallel default(shared)\n\n\n  \n;\n\n\n  \n// WARNING: OpenMP directive ``parallel`` specifies ``default(shared)``\n\n\n  \n//          clause. Consider using ``default(none)`` clause instead.\n\n\n}\n\n\n\n// ``parallel`` directive can have ``default`` clause, and said clause is\n\n\n// specified, but with ``firstprivate`` kind, which is not ``none``, diagnose.\n\n\nvoid\n \np0_3\n()\n \n{\n\n\n#pragma omp parallel default(firstprivate)\n\n\n  \n;\n\n\n  \n// WARNING: OpenMP directive ``parallel`` specifies ``default(firstprivate)``\n\n\n  \n//          clause. Consider using ``default(none)`` clause instead.\n\n\n}",
    "configurations": []
  }
}