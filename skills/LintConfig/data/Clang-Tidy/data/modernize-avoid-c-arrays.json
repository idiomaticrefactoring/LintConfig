{
  "name": "modernize-avoid-c-arrays",
  "meta": {
    "url": "https://clang.llvm.org/extra/clang-tidy/checks/modernize/avoid-c-arrays.html",
    "fixable": false
  },
  "content": {
    "introduction": "cppcoreguidelines-avoid-c-arrays\n redirects here as an alias for this check.\n\nhicpp-avoid-c-arrays\n redirects here as an alias for this check.\n\nFinds C-style array types and recommend to use \nstd::array<>\n /\n\nstd::vector<>\n. All types of C arrays are diagnosed.\n\nFor parameters of incomplete C-style array type, it would be better to\nuse \nstd::span\n / \ngsl::span\n as replacement.\n\nHowever, fix-it are potentially dangerous in header files and are therefore not\nemitted right now.\n\nint\n \na\n[]\n \n=\n \n{\n1\n,\n \n2\n};\n \n// warning: do not declare C-style arrays, use 'std::array' instead\n\n\n\nint\n \nb\n[\n1\n];\n \n// warning: do not declare C-style arrays, use 'std::array' instead\n\n\n\nvoid\n \nfoo\n()\n \n{\n\n\n  \nint\n \nc\n[\nb\n[\n0\n]];\n \n// warning: do not declare C VLA arrays, use 'std::vector' instead\n\n\n}\n\n\n\ntemplate\n \n<\ntypename\n \nT\n,\n \nint\n \nSize\n>\n\n\nclass\n \narray\n \n{\n\n\n  \nT\n \nd\n[\nSize\n];\n \n// warning: do not declare C-style arrays, use 'std::array' instead\n\n\n\n  \nint\n \ne\n[\n1\n];\n \n// warning: do not declare C-style arrays, use 'std::array' instead\n\n\n};\n\n\n\narray\n<\nint\n[\n4\n],\n \n2\n>\n \nd\n;\n \n// warning: do not declare C-style arrays, use 'std::array' instead\n\n\n\nusing\n \nk\n \n=\n \nint\n[\n4\n];\n \n// warning: do not declare C-style arrays, use 'std::array' instead\n\nHowever, the \nextern\n \n\"C\"\n code is ignored, since it is common to share\nsuch headers between C code, and C++ code.\n\n// Some header\n\n\nextern\n \n\"C\"\n \n{\n\n\n\nint\n \nf\n[]\n \n=\n \n{\n1\n,\n \n2\n};\n \n// not diagnosed\n\n\n\nint\n \nj\n[\n1\n];\n \n// not diagnosed\n\n\n\ninline\n \nvoid\n \nbar\n()\n \n{\n\n\n  \n{\n\n\n    \nint\n \nj\n[\nj\n[\n0\n]];\n \n// not diagnosed\n\n\n  \n}\n\n\n}\n\n\n\n}\n\nSimilarly, the \nmain()\n function is ignored. Its second and third parameters\ncan be either \nchar*\n \nargv[]\n or \nchar**\n \nargv\n, but cannot be\n\nstd::array<>\n.\n\nOptions\nÂ¶\n\n\n\n\n\n\nAllowStringArrays\nÂ¶\n\n\nWhen set to \ntrue\n (default is \nfalse\n), variables of character array type\nwith deduced length, initialized directly from string literals, will be ignored.\nThis option doesnât affect cases where length canât be deduced, resembling\npointers, as seen in class members and parameters. Example:\n\n\nconst\n \nchar\n \nname\n[]\n \n=\n \n\"Some name\"\n;",
    "configurations": []
  }
}