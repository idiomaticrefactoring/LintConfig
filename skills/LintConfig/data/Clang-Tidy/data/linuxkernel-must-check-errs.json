{
  "name": "linuxkernel-must-check-errs",
  "meta": {
    "url": "https://clang.llvm.org/extra/clang-tidy/checks/linuxkernel/must-check-errs.html",
    "fixable": false
  },
  "content": {
    "introduction": "Checks Linux kernel code to see if it uses the results from the functions in\n\nlinux/err.h\n. Also checks to see if code uses the results from functions\nthat directly return a value from one of these error functions.\n\nThis is important in the Linux kernel because \nERR_PTR\n, \nPTR_ERR\n,\n\nIS_ERR\n, \nIS_ERR_OR_NULL\n, \nERR_CAST\n, and \nPTR_ERR_OR_ZERO\n return\nvalues must be checked, since positive pointers and negative error codes are\nbeing used in the same context. These functions are marked with\n\n__attribute__((warn_unused_result))\n, but some kernel versions do not have\nthis warning enabled for clang.\n\nExamples:\n\n/* Trivial unused call to an ERR function */\n\n\nPTR_ERR_OR_ZERO\n(\nsome_function_call\n());\n\n\n\n/* A function that returns ERR_PTR. */\n\n\nvoid\n \n*\nfn\n()\n \n{\n \nERR_PTR\n(\n-\nEINVAL\n);\n \n}\n\n\n\n/* An invalid use of fn. */\n\n\nfn\n();",
    "configurations": []
  }
}