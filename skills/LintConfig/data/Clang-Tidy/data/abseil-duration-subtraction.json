{
  "name": "abseil-duration-subtraction",
  "meta": {
    "url": "https://clang.llvm.org/extra/clang-tidy/checks/abseil/duration-subtraction.html",
    "fixable": true
  },
  "content": {
    "introduction": "Checks for cases where subtraction should be performed in the\n\nabsl::Duration\n domain. When subtracting two values, and the first one is\nknown to be a conversion from \nabsl::Duration\n, we can infer that the second\nshould also be interpreted as an \nabsl::Duration\n, and make that inference\nexplicit.\n\nExamples:\n\n// Original - Subtraction in the double domain\n\n\ndouble\n \nx\n;\n\n\nabsl\n::\nDuration\n \nd\n;\n\n\ndouble\n \nresult\n \n=\n \nabsl\n::\nToDoubleSeconds\n(\nd\n)\n \n-\n \nx\n;\n\n\n\n// Suggestion - Subtraction in the absl::Duration domain instead\n\n\ndouble\n \nresult\n \n=\n \nabsl\n::\nToDoubleSeconds\n(\nd\n \n-\n \nabsl\n::\nSeconds\n(\nx\n));\n\n\n\n// Original - Subtraction of two Durations in the double domain\n\n\nabsl\n::\nDuration\n \nd1\n,\n \nd2\n;\n\n\ndouble\n \nresult\n \n=\n \nabsl\n::\nToDoubleSeconds\n(\nd1\n)\n \n-\n \nabsl\n::\nToDoubleSeconds\n(\nd2\n);\n\n\n\n// Suggestion - Subtraction in the absl::Duration domain instead\n\n\ndouble\n \nresult\n \n=\n \nabsl\n::\nToDoubleSeconds\n(\nd1\n \n-\n \nd2\n);\n\nNote: As with other \nclang-tidy\n checks, it is possible that multiple fixes\nmay overlap (as in the case of nested expressions), so not all occurrences can\nbe transformed in one run. In particular, this may occur for nested subtraction\nexpressions. Running \nclang-tidy\n multiple times will find and fix these\noverlaps.",
    "configurations": []
  }
}