{
  "name": "misc-override-with-different-visibility",
  "meta": {
    "url": "https://clang.llvm.org/extra/clang-tidy/checks/misc/override-with-different-visibility.html",
    "fixable": false
  },
  "content": {
    "introduction": "Finds virtual function overrides with different visibility than the function\nin the base class. This includes for example if a virtual function declared as\n\nprivate\n is overridden and declared as \npublic\n in a subclass. The\ndetected change is the modification of visibility resulting from keywords\n\npublic\n, \nprotected\n, \nprivate\n at overridden virtual functions. The\ncheck applies to any normal virtual function and optionally to destructors or\noperators. Use of the \nusing\n keyword is not considered as visibility\nchange by this check.\n\nclass\n \nA\n \n{\n\n\npublic\n:\n\n\n  \nvirtual\n \nvoid\n \nf_pub\n();\n\n\nprivate\n:\n\n\n  \nvirtual\n \nvoid\n \nf_priv\n();\n\n\n};\n\n\n\nclass\n \nB\n:\n \npublic\n \nA\n \n{\n\n\npublic\n:\n\n\n  \nvoid\n \nf_priv\n();\n \n// warning: changed visibility from private to public\n\n\nprivate\n:\n\n\n  \nvoid\n \nf_pub\n();\n \n// warning: changed visibility from public to private\n\n\n};\n\n\n\nclass\n \nC\n:\n \nprivate\n \nA\n \n{\n\n\n  \n// no warning: f_pub becomes private in this case but this is from the\n\n\n  \n// private inheritance\n\n\n};\n\n\n\nclass\n \nD\n:\n \nprivate\n \nA\n \n{\n\n\npublic\n:\n\n\n  \nvoid\n \nf_pub\n();\n \n// warning: changed visibility from private to public\n\n\n                \n// 'f_pub' would have private access but is forced to be\n\n\n                \n// public\n\n\n};\n\nIf the visibility is changed in this way, it can indicate bad design or\nprogramming error.\n\nIf a virtual function is private in a subclass but public in the base class, it\ncan still be accessed from a pointer to the subclass if the pointer is converted\nto the base type. Probably private inheritance can be used instead.\n\nA protected virtual function that is made public in a subclass may have valid\nuse cases but similar (not exactly same) effect can be achieved with the\n\nusing\n keyword.\n\nOptions\nÂ¶\n\n\n\n\n\n\nDisallowedVisibilityChange\nÂ¶\n\n\nControls what kind of change to the visibility will be detected by the check.\nPossible values are \nany\n, \nwidening\n, \nnarrowing\n. For example the\n\nwidening\n option will produce warning only if the visibility is changed\nfrom more restrictive (\nprivate\n) to less restrictive (\npublic\n).\nDefault value is \nany\n.\n\n\n\n\n\n\n\n\nCheckDestructors\nÂ¶\n\n\nIf \ntrue\n, the check does apply to destructors too. Otherwise destructors\nare ignored by the check.\nDefault value is \nfalse\n.\n\n\n\n\n\n\n\n\nCheckOperators\nÂ¶\n\n\nIf \ntrue\n, the check does apply to overloaded C++ operators (as virtual\nmember functions) too. This includes other special member functions (like\nconversions) too. This option is probably useful only in rare cases because\noperators and conversions are not often virtual functions.\nDefault value is \nfalse\n.\n\n\n\n\n\n\n\n\nIgnoredFunctions\nÂ¶\n\n\nThis option can be used to ignore the check at specific functions.\nTo configure this option, a semicolon-separated list of function names\nshould be provided. The list can contain regular expressions, in this way it\nis possible to select all functions of a specific class (like \nMyClass::.*\n)\nor a specific function of any class (like \nmy_function\n or\n\n::.*::my_function\n). The function names are matched at the base class.\nDefault value is empty string.",
    "configurations": []
  }
}