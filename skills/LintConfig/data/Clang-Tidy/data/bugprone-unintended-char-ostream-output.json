{
  "name": "bugprone-unintended-char-ostream-output",
  "meta": {
    "url": "https://clang.llvm.org/extra/clang-tidy/checks/bugprone/unintended-char-ostream-output.html",
    "fixable": true
  },
  "content": {
    "introduction": "Finds unintended character output from \nunsigned\n \nchar\n and \nsigned\n \nchar\n to\nan \nostream\n.\n\nNormally, when \nunsigned\n \nchar\n \n(uint8_t)\n or \nsigned\n \nchar\n \n(int8_t)\n is used,\nit is more likely a number than a character. However, when it is passed\ndirectly to \nstd::ostream\nâs \noperator<<\n, the result is the character\noutput instead of the numeric value. This often contradicts the developerâs\nintent to print integer values.\n\nuint8_t\n \nv\n \n=\n \n65\n;\n\n\nstd\n::\ncout\n \n<<\n \nv\n;\n \n// output 'A' instead of '65'\n\nThe check will suggest casting the value to an appropriate type to indicate the\nintent, by default, it will cast to \nunsigned\n \nint\n for \nunsigned\n \nchar\n and\n\nint\n for \nsigned\n \nchar\n.\n\nstd\n::\ncout\n \n<<\n \nstatic_cast\n<\nunsigned\n \nint\n>\n(\nv\n);\n \n// when v is unsigned char\n\n\nstd\n::\ncout\n \n<<\n \nstatic_cast\n<\nint\n>\n(\nv\n);\n \n// when v is signed char\n\nTo avoid lengthy cast statements, add prefix \n+\n to the variable can\nalso suppress warnings because unary expression will promote the value\nto an \nint\n.\n\nstd\n::\ncout\n \n<<\n \n+\nv\n;\n\nOr cast to char to explicitly indicate that output should be a character.\n\nstd\n::\ncout\n \n<<\n \nstatic_cast\n<\nchar\n>\n(\nv\n);\n\nOptions\nÂ¶\n\n\n\n\n\n\nAllowedTypes\nÂ¶\n\n\nA semicolon-separated list of type names that will be treated like the \nchar\n\ntype: the check will not report variables declared with with these types or\nexplicit cast expressions to these types. Note that this distinguishes type\naliases from the original type, so specifying e.g. \nunsigned\n \nchar\n here\nwill not suppress reports about \nuint8_t\n even if it is defined as a\n\ntypedef\n alias for \nunsigned\n \nchar\n.\nDefault is \nunsigned char;signed char\n.\n\n\n\n\n\n\n\n\nCastTypeName\nÂ¶\n\n\nWhen \nCastTypeName\n is specified, the fix-it will use \nCastTypeName\n as the\ncast target type. Otherwise, fix-it will automatically infer the type.",
    "configurations": []
  }
}