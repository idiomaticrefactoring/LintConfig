{
  "name": "bugprone-signal-handler",
  "meta": {
    "url": "https://clang.llvm.org/extra/clang-tidy/checks/bugprone/signal-handler.html",
    "fixable": false
  },
  "content": {
    "introduction": "Finds specific constructs in signal handler functions that can cause undefined\nbehavior. The rules for what is allowed differ between C++ language versions.\n\nChecked signal handler rules for C:\n\nCalls to non-asynchronous-safe functions are not allowed.\n\nChecked signal handler rules for up to and including C++14:\n\nCalls to non-asynchronous-safe functions are not allowed.\n\n\nC++-specific code constructs are not allowed in signal handlers.\nIn other words, only the common subset of C and C++ is allowed to be used.\n\n\nCalls to functions with non-C linkage are not allowed (including the signal\nhandler itself).\n\nThe check is disabled on C++17 and later.\n\nAsynchronous-safety is determined by comparing the functionâs name against a\nset of known functions. In addition, the function must come from a system\nheader include and in a global namespace. The (possible) arguments passed to\nthe function are not checked. Any function that cannot be determined to be\nasynchronous-safe is assumed to be non-asynchronous-safe by the check,\nincluding user functions for which only the declaration is visible.\nCalls to user-defined functions with visible definitions are checked\nrecursively.\n\nThis check implements the CERT C Coding Standard rule\n\nSIG30-C. Call only asynchronous-safe functions within signal handlers\n\nand the rule\n\nMSC54-CPP. A signal handler must be a plain old function\n.\nIt has the alias names \ncert-sig30-c\n and \ncert-msc54-cpp\n.\n\nOptions\nÂ¶\n\n\n\n\n\n\nAsyncSafeFunctionSet\nÂ¶\n\n\nSelects which set of functions is considered as asynchronous-safe\n(and therefore allowed in signal handlers). It can be set to the following values:\n\n\n\n\n\n\nminimal\nSelects a minimal set that is defined in the CERT SIG30-C rule.\nand includes functions \nabort()\n, \n_Exit()\n, \nquick_exit()\n and\n\nsignal()\n.\n\n\n\n\n\n\n\n\n\n\nPOSIX\nSelects a larger set of functions that is listed in POSIX.1-2017 (see \nthis\nlink\n\nfor more information). The following functions are included:\n\n_Exit\n, \n_exit\n, \nabort\n, \naccept\n, \naccess\n, \naio_error\n,\n\naio_return\n, \naio_suspend\n, \nalarm\n, \nbind\n, \ncfgetispeed\n,\n\ncfgetospeed\n, \ncfsetispeed\n, \ncfsetospeed\n, \nchdir\n, \nchmod\n,\n\nchown\n, \nclock_gettime\n, \nclose\n, \nconnect\n, \ncreat\n, \ndup\n,\n\ndup2\n, \nexecl\n, \nexecle\n, \nexecv\n, \nexecve\n, \nfaccessat\n,\n\nfchdir\n, \nfchmod\n, \nfchmodat\n, \nfchown\n, \nfchownat\n, \nfcntl\n,\n\nfdatasync\n, \nfexecve\n, \nffs\n, \nfork\n, \nfstat\n, \nfstatat\n,\n\nfsync\n, \nftruncate\n, \nfutimens\n, \ngetegid\n, \ngeteuid\n,\n\ngetgid\n, \ngetgroups\n, \ngetpeername\n, \ngetpgrp\n, \ngetpid\n,\n\ngetppid\n, \ngetsockname\n, \ngetsockopt\n, \ngetuid\n, \nhtonl\n,\n\nhtons\n, \nkill\n, \nlink\n, \nlinkat\n, \nlisten\n, \nlongjmp\n,\n\nlseek\n, \nlstat\n, \nmemccpy\n, \nmemchr\n, \nmemcmp\n, \nmemcpy\n,\n\nmemmove\n, \nmemset\n, \nmkdir\n, \nmkdirat\n, \nmkfifo\n, \nmkfifoat\n,\n\nmknod\n, \nmknodat\n, \nntohl\n, \nntohs\n, \nopen\n, \nopenat\n,\n\npause\n, \npipe\n, \npoll\n, \nposix_trace_event\n, \npselect\n,\n\npthread_kill\n, \npthread_self\n, \npthread_sigmask\n, \nquick_exit\n,\n\nraise\n, \nread\n, \nreadlink\n, \nreadlinkat\n, \nrecv\n, \nrecvfrom\n,\n\nrecvmsg\n, \nrename\n, \nrenameat\n, \nrmdir\n, \nselect\n, \nsem_post\n,\n\nsend\n, \nsendmsg\n, \nsendto\n, \nsetgid\n, \nsetpgid\n, \nsetsid\n,\n\nsetsockopt\n, \nsetuid\n, \nshutdown\n, \nsigaction\n, \nsigaddset\n,\n\nsigdelset\n, \nsigemptyset\n, \nsigfillset\n, \nsigismember\n,\n\nsiglongjmp\n, \nsignal\n, \nsigpause\n, \nsigpending\n, \nsigprocmask\n,\n\nsigqueue\n, \nsigset\n, \nsigsuspend\n, \nsleep\n, \nsockatmark\n,\n\nsocket\n, \nsocketpair\n, \nstat\n, \nstpcpy\n, \nstpncpy\n,\n\nstrcat\n, \nstrchr\n, \nstrcmp\n, \nstrcpy\n, \nstrcspn\n, \nstrlen\n,\n\nstrncat\n, \nstrncmp\n, \nstrncpy\n, \nstrnlen\n, \nstrpbrk\n,\n\nstrrchr\n, \nstrspn\n, \nstrstr\n, \nstrtok_r\n, \nsymlink\n,\n\nsymlinkat\n, \ntcdrain\n, \ntcflow\n, \ntcflush\n, \ntcgetattr\n,\n\ntcgetpgrp\n, \ntcsendbreak\n, \ntcsetattr\n, \ntcsetpgrp\n,\n\ntime\n, \ntimer_getoverrun\n, \ntimer_gettime\n, \ntimer_settime\n,\n\ntimes\n, \numask\n, \nuname\n, \nunlink\n, \nunlinkat\n, \nutime\n,\n\nutimensat\n, \nutimes\n, \nwait\n, \nwaitpid\n, \nwcpcpy\n,\n\nwcpncpy\n, \nwcscat\n, \nwcschr\n, \nwcscmp\n, \nwcscpy\n, \nwcscspn\n,\n\nwcslen\n, \nwcsncat\n, \nwcsncmp\n, \nwcsncpy\n, \nwcsnlen\n, \nwcspbrk\n,\n\nwcsrchr\n, \nwcsspn\n, \nwcsstr\n, \nwcstok\n, \nwmemchr\n, \nwmemcmp\n,\n\nwmemcpy\n, \nwmemmove\n, \nwmemset\n, \nwrite\n\n\nThe function \nquick_exit\n is not included in the POSIX list but it\nis included here in the set of safe functions.\n\n\n\n\n\n\n\n\n\n\nThe default value is \nPOSIX\n.",
    "configurations": []
  }
}