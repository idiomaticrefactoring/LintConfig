{
  "name": "bugprone-std-namespace-modification",
  "meta": {
    "url": "https://clang.llvm.org/extra/clang-tidy/checks/bugprone/std-namespace-modification.html",
    "fixable": false
  },
  "content": {
    "introduction": "Warns on modifications of the \nstd\n or \nposix\n namespaces which can\nresult in undefined behavior.\n\nThe \nstd\n (or \nposix\n) namespace is allowed to be extended with (class or\nfunction) template specializations that depend on an user-defined type (a type\nthat is not defined in the standard system headers).\n\nThe check detects the following (user provided) declarations in namespace\n\nstd\n or \nposix\n:\n\nAnything that is not a template specialization.\n\n\nExplicit specializations of any standard library function template or class\ntemplate, if it does not have any user-defined type as template argument.\n\n\nExplicit specializations of any member function of a standard library class\ntemplate.\n\n\nExplicit specializations of any member function template of a standard\nlibrary class or class template.\n\n\nExplicit or partial specialization of any member class template of a standard\nlibrary class or class template.\n\nExamples:\n\nnamespace\n \nstd\n \n{\n\n\n  \nint\n \nx\n;\n \n// warning: modification of 'std' namespace can result in undefined behavior [bugprone-dont-modify-std-namespace]\n\n\n}\n\n\n\nnamespace\n \nposix\n::\na\n \n{\n \n// warning: modification of 'posix' namespace can result in undefined behavior\n\n\n}\n\n\n\ntemplate\n \n<>\n\n\nstruct\n \n::\nstd\n::\nhash\n<\nlong\n>\n \n{\n \n// warning: modification of 'std' namespace can result in undefined behavior\n\n\n  \nunsigned\n \nlong\n \noperator\n()(\nconst\n \nlong\n \n&\nK\n)\n \nconst\n \n{\n\n\n    \nreturn\n \nK\n;\n\n\n  \n}\n\n\n};\n\n\n\nstruct\n \nMyData\n \n{\n \nlong\n \ndata\n;\n \n};\n\n\n\ntemplate\n \n<>\n\n\nstruct\n \n::\nstd\n::\nhash\n<\nMyData\n>\n \n{\n \n// no warning: specialization with user-defined type\n\n\n  \nunsigned\n \nlong\n \noperator\n()(\nconst\n \nMyData\n \n&\nK\n)\n \nconst\n \n{\n\n\n    \nreturn\n \nK\n.\ndata\n;\n\n\n  \n}\n\n\n};\n\n\n\nnamespace\n \nstd\n \n{\n\n\n  \ntemplate\n \n<>\n\n\n  \nvoid\n \nswap\n<\nbool\n>\n(\nbool\n \n&\na\n,\n \nbool\n \n&\nb\n);\n \n// warning: modification of 'std' namespace can result in undefined behavior\n\n\n\n  \ntemplate\n \n<>\n\n\n  \nbool\n \nless\n<\nvoid\n>::\noperator\n()\n<\nMyData\n \n&&\n,\n \nMyData\n \n&&>\n(\nMyData\n \n&&\n,\n \nMyData\n \n&&\n)\n \nconst\n \n{\n \n// warning: modification of 'std' namespace can result in undefined behavior\n\n\n    \nreturn\n \ntrue\n;\n\n\n  \n}\n\n\n}\n\nReferences\nÂ¶\n\n\nThis check corresponds to the CERT C++ Coding Standard rule\n\nDCL58-CPP. Do not modify the standard namespaces\n.",
    "configurations": []
  }
}