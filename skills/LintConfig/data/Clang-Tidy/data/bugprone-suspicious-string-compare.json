{
  "name": "bugprone-suspicious-string-compare",
  "meta": {
    "url": "https://clang.llvm.org/extra/clang-tidy/checks/bugprone/suspicious-string-compare.html",
    "fixable": true
  },
  "content": {
    "introduction": "Find suspicious usage of runtime string comparison functions.\nThis check is valid in C and C++.\n\nChecks for calls with implicit comparator and proposed to explicitly add it.\n\nif\n \n(\nstrcmp\n(...))\n       \n// Implicitly compare to zero\n\n\nif\n \n(\n!\nstrcmp\n(...))\n      \n// Won't warn\n\n\nif\n \n(\nstrcmp\n(...)\n \n!=\n \n0\n)\n  \n// Won't warn\n\nChecks that compare function results (i.e., \nstrcmp\n) are compared to valid\nconstant. The resulting value is\n\n<\n  \n0\n    \nwhen\n \nlower\n \nthan\n,\n\n\n>\n  \n0\n    \nwhen\n \ngreater\n \nthan\n,\n\n\n==\n \n0\n    \nwhen\n \nequals\n.\n\nA common mistake is to compare the result to \n1\n or \n-1\n.\n\nif\n \n(\nstrcmp\n(...)\n \n==\n \n-1\n)\n  \n// Incorrect usage of the returned value.\n\nAdditionally, the check warns if the results value is implicitly cast to a\n\nsuspicious\n non-integer type. Itâs happening when the returned value is\nused in a wrong context.\n\nif\n \n(\nstrcmp\n(...)\n \n<\n \n0.\n)\n  \n// Incorrect usage of the returned value.\n\nOptions\nÂ¶\n\n\n\n\n\n\nWarnOnImplicitComparison\nÂ¶\n\n\nWhen \ntrue\n, the check will warn on implicit comparison. \ntrue\n by default.\n\n\n\n\n\n\n\n\nWarnOnLogicalNotComparison\nÂ¶\n\n\nWhen \ntrue\n, the check will warn on logical not comparison. \nfalse\n by default.\n\n\n\n\n\n\n\n\nStringCompareLikeFunctions\nÂ¶\n\n\nA string specifying the comma-separated names of the extra string comparison\nfunctions. Default is an empty string.\nThe check will detect the following string comparison functions:\n\n__builtin_memcmp\n, \n__builtin_strcasecmp\n, \n__builtin_strcmp\n,\n\n__builtin_strncasecmp\n, \n__builtin_strncmp\n, \n_mbscmp\n, \n_mbscmp_l\n,\n\n_mbsicmp\n, \n_mbsicmp_l\n, \n_mbsnbcmp\n, \n_mbsnbcmp_l\n, \n_mbsnbicmp\n,\n\n_mbsnbicmp_l\n, \n_mbsncmp\n, \n_mbsncmp_l\n, \n_mbsnicmp\n, \n_mbsnicmp_l\n,\n\n_memicmp\n, \n_memicmp_l\n, \n_stricmp\n, \n_stricmp_l\n, \n_strnicmp\n,\n\n_strnicmp_l\n, \n_wcsicmp\n, \n_wcsicmp_l\n, \n_wcsnicmp\n, \n_wcsnicmp_l\n,\n\nlstrcmp\n, \nlstrcmpi\n, \nmemcmp\n, \nmemicmp\n, \nstrcasecmp\n, \nstrcmp\n,\n\nstrcmpi\n, \nstricmp\n, \nstrncasecmp\n, \nstrncmp\n, \nstrnicmp\n, \nwcscasecmp\n,\n\nwcscmp\n, \nwcsicmp\n, \nwcsncmp\n, \nwcsnicmp\n, \nwmemcmp\n.",
    "configurations": []
  }
}