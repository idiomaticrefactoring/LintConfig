{
  "name": "readability-string-compare",
  "meta": {
    "url": "https://clang.llvm.org/extra/clang-tidy/checks/readability/string-compare.html",
    "fixable": true
  },
  "content": {
    "introduction": "Finds string comparisons using the compare method.\n\nA common mistake is to use the stringâs \ncompare\n method instead of using the\nequality or inequality operators. The compare method is intended for sorting\nfunctions and thus returns a negative number, a positive number or\nzero depending on the lexicographical relationship between the strings\ncompared. If an equality or inequality check can suffice, that is recommended.\nThis is recommended to avoid the risk of incorrect interpretation of the return\nvalue and to simplify the code. The string equality and inequality operators\ncan also be faster than the \ncompare\n method due to early termination.\n\nExample\nÂ¶\n\n\n// The same rules apply to std::string_view.\n\n\nstd\n::\nstring\n \nstr1\n{\n\"a\"\n};\n\n\nstd\n::\nstring\n \nstr2\n{\n\"b\"\n};\n\n\n\n// use str1 != str2 instead.\n\n\nif\n \n(\nstr1\n.\ncompare\n(\nstr2\n))\n \n{\n\n\n}\n\n\n\n// use str1 == str2 instead.\n\n\nif\n \n(\n!\nstr1\n.\ncompare\n(\nstr2\n))\n \n{\n\n\n}\n\n\n\n// use str1 == str2 instead.\n\n\nif\n \n(\nstr1\n.\ncompare\n(\nstr2\n)\n \n==\n \n0\n)\n \n{\n\n\n}\n\n\n\n// use str1 != str2 instead.\n\n\nif\n \n(\nstr1\n.\ncompare\n(\nstr2\n)\n \n!=\n \n0\n)\n \n{\n\n\n}\n\n\n\n// use str1 == str2 instead.\n\n\nif\n \n(\n0\n \n==\n \nstr1\n.\ncompare\n(\nstr2\n))\n \n{\n\n\n}\n\n\n\n// use str1 != str2 instead.\n\n\nif\n \n(\n0\n \n!=\n \nstr1\n.\ncompare\n(\nstr2\n))\n \n{\n\n\n}\n\n\n\n// Use str1 == \"foo\" instead.\n\n\nif\n \n(\nstr1\n.\ncompare\n(\n\"foo\"\n)\n \n==\n \n0\n)\n \n{\n\n\n}\n\n\n\n\n\n\nThe above code examples show the list of if-statements that this check will\ngive a warning for. All of them use \ncompare\n to check equality or\ninequality of two strings instead of using the correct operators.\n\nOptions\nÂ¶\n\n\n\n\n\n\nStringLikeClasses\nÂ¶\n\n\nA string containing semicolon-separated names of string-like classes.\nBy default contains only \n::std::basic_string\n\nand \n::std::basic_string_view\n. If a class from this list has\na \ncompare\n method similar to that of \nstd::string\n, it will be checked\nin the same way.\n\n\n\n\n\n\nExample\nÂ¶\n\n\nstruct\n \nCustomString\n \n{\n\n\npublic\n:\n\n\n  \nint\n \ncompare\n \n(\nconst\n \nCustomString\n&\n \nother\n)\n \nconst\n;\n\n\n}\n\n\n\nCustomString\n \nstr1\n;\n\n\nCustomString\n \nstr2\n;\n\n\n\n// use str1 != str2 instead.\n\n\nif\n \n(\nstr1\n.\ncompare\n(\nstr2\n))\n \n{\n\n\n}\n\n\n\n\n\n\nIf \nStringLikeClasses\n contains \nCustomString\n, the check will suggest\nreplacing \ncompare\n with equality operator.",
    "configurations": []
  }
}