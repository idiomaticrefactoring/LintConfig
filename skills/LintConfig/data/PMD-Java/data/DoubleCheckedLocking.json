{
    "name": "DoubleCheckedLocking",
    "category": "multithreading",
    "summary": "Partially created objects can be returned by the Double Checked Locking pattern when used in Java.\nAn optimizing JRE may assign a reference to the baz variable before it calls the constructor of the object the\nreference points to.\n\nNote: With Java 5, you can make Double checked locking work, if you declare the variable to be `volatile`.\n\nFor more details refer to: <http://www.javaworld.com/javaworld/jw-02-2001/jw-0209-double.html>\nor <http://www.cs.umd.edu/~pugh/java/memoryModel/DoubleCheckedLocking.html>",
    "message": "Double checked locking is not thread safe in Java.",
    "url": "${pmd.website.baseurl}/pmd_rules_java_multithreading.html#doublecheckedlocking",
    "since": "1.04",
    "priority": "1",
    "is_deprecated": false,
    "configuration": [],
    "examples": "public class Foo {\n/*volatile */ Object baz = null; // fix for Java5 and later: volatile\nObject bar() {\nif (baz == null) { // baz may be non-null yet not fully created\nsynchronized(this) {\nif (baz == null) {\nbaz = new Object();\n}\n}\n}\nreturn baz;\n}\n}"
}